"use strict";function jsShangPin(){var e=$("div.orderable-table");e.children("div.table-header");e.children("div.table-body").children("div.row").each(function(){var e=$(this).children("span"),t=e.eq(1),i=e.eq(2),n=e.eq(3),a=t.text(),o=i.text(),c=n.text(),s=new RegExp(",","");a=Number(a.replace(s,"")),o=Number(o.replace(s,"")),c=Number(c.replace(s,""));var l=o/a*100,r='<span class="ch-span"><br>'+l.toFixed(1)+"%</span>";i.append(r),l=(c+o)/a*100,r='<span class="ch-span"><br>'+l.toFixed(1)+"%</span>",t.append(r),l=c/a*100,r='<span class="ch-span"><br>'+l.toFixed(1)+"%</span>",n.append(r)})}function gouxuan(e,t,i,n){$("span.ch-span").remove();var a=$("div.dropdown-index-picker"),o=a.find("span.checkbox");o.each(function(e,t){var i=$(this);0!=e&&i.hasClass("selected")&&i.click()}),o.each(function(a,o){var c=$(this);switch(a){case e:case t:case i:case n:c.click()}})}function jsDanPin(){var e=$("li.t-source-name ul.flow-source-table").children("ul").children("li"),t=$("li.t-flow ul.flow-source-table").children("ul").children("li"),i=$("li.t-guide ul.flow-source-table").children("ul").children("li");e.each(function(){var e=$(this).index(),n=t.eq(e).children("div").eq(0),a=i.eq(e).children("div").eq(0),o=i.eq(e).children("div").eq(1),c=n.text(),s=o.text(),l=a.text(),r=new RegExp(",","");c=Number(c.replace(r,"")),s=Number(s.replace(r,"")),l=Number(l.replace(r,""));var d=s/c*100,p='<span class="ch-span">'+d.toFixed(1)+"%</span>";o.append(p),d=(l+s)/c*100,p='<span class="ch-span">'+d.toFixed(1)+"%</span>",n.append(p),d=l/c*100,p='<span class="ch-span">'+d.toFixed(1)+"%</span>",a.append(p)})}function chaiFenBiaoTi(){if(0==qnid){var e=$("a.item-title"),t=e.text(),i=e.attr("href");qnid=i.match(/(?<=id=)\d{10,12}/g)[0];var n="https://s.taobao.com/search?q="+t+"&imgfile=&js=1&style=grid&stats_click=search_radio_all%3A1&initiative_id=staobaoz_20170411&ie=utf8";GM_xmlhttpRequest({method:"GET",headers:{Accept:"text/html,application/xhtml+xml,application/xml","User-agent":" Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36"},url:n,onerror:function(e){console.error(e),toastMsg("数据获取出错！")},ontimeout:function(e){console.error(e),toastMsg("数据获取超时！")},onload:function(i){var n=i.responseText,a="g_page_config = ".length,o=";     ".length,c=n.indexOf("g_page_config = "),s=n.indexOf("g_srp_loadCss()"),l=n.substring(c+a,s-o),r=JSON.parse(l);r=r.mods.itemlist.data.auctions;for(var d in r)r[d].nid==qnid&&e.html(r[d].title);$("li.ch-btn2 a.ch-copy-btn").text("复制词根").attr("data-clipboard-text",titleList(t)),toastMsg("拆分完成！")}})}}function tiquTop10(){var e="",t=$("li.t-source-name ul.flow-source-table").children("ul").children("li"),i=$("li.t-flow ul.flow-source-table").children("ul").children("li");console.log(t),t.each(function(){var n=$(this).index(),a=t.eq(n).text(),o=i.eq(n).children("div").eq(0).text();e+=a+"\t"+o,n<t.length-1&&(e+="\n")}),console.log(e),$("li.ch-btn3 a.ch-copy-btn").attr("data-clipboard-text",e)}function titleList(e){var t=$("a.item-title span"),i="",n="";return t.each(function(){i+=$(this).text(),n!=e?n+=$(this).text():$(this).css("background-color","red"),$(this).index()<t.length-1&&(i+="\n")}),i}function copy(){var e=new ClipboardJS(".ch-copy-btn");e.on("success",function(e){console.info(e.text+"\n -复制成功！"),toastMsg("复制成功！在Excel表格中粘贴（Ctrl + V）一下就可以了哦！",2e3),e.clearSelection()}),e.on("error",function(e){console.info("复制失败！"),toastMsg("复制失败！",2e3)})}function toastMsg(e,t){t=isNaN(t)?3e3:t;var i=document.createElement("div");i.innerHTML=e,i.style.cssText="min-width: 150px;opacity: 0.7;height: 30px;color: rgb(255, 255, 255);line-height: 30px;text-align: center;border-radius: 5px;position: fixed;left: 0;right: 0;top: 40%;margin:0 auto;z-index: 999999;background: rgb(0, 0, 0);font-size: 12px;",document.body.appendChild(i),setTimeout(function(){i.style.webkitTransition="-webkit-transform 0.5s ease-in, opacity 0.5s ease-in",i.style.opacity="0",setTimeout(function(){document.body.removeChild(i)},500)},t)}var qnid=0;